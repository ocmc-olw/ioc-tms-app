/**
Example template written in the Liturgical Markup Language (.lml)
Templates can be written using any text editor.
This example uses a Codemirror editor in a browser, using the Twilight theme.
The themes can be changed by the user.
Future features of editor:
-- lookup keywords for autocompletion.
-- Lookup css classes for autocompletion.
-- Lookup topic-keys
-- Lookup template paths
-- Search db text to find desired topic~key
-- Verify the template is syntactically correct.
-- Verify that the entered css classes exist in the specified css file
-- Verify all topic-keys have at least one library that uses them, e.g. gr_gr_cog~actors~Priest
**/
id: "ages/books/euchologion/liturgies/bk.liturgy.chrysostom" // used as id in database
// Properties
{  // if you wrap a block with braces { }, it can be folded / unfolded
type: service
title: "Divine Liturgy" // used for searching db for template
status: draft
day: 10
month: 12 // can also add year: nnnn
css: "/ages/css/ages.css" // editor reads it so it knows what styles are valid
}
// Section 01
{
  p.actor sid "actors~Priest"
  p.dialog sid "eu.lichrysbasil~euLI.Key0109.text"
  p.dialog .it sid "prayers~res04p"
}
// Section 02
{
  p.title .desig sid "eu.lichrysbasil/euLI.Key0200.text"
  p.media sid "eu.lichrysbasil~euLI.Key0200.text"
  p.actor sid "actors~Deacon"
  insert "ages/blocks/LN/GreatLitany01"
  p.actor sid "actors~Priest" .rubric sid "rubrical~InALowVoice"
  p.inaudible sid "eu.lichrysbasil~euLI.Key0201.text"
  p.actor sid "actors~Priest"
  p.dialog sid "prayers~exc01"
  p.dialog .it sid "prayers~res04p"
}
// proposed core css classes for spans:
/**
.it     = span.bk {color: black; font-style: italic; font-weight: normal}
.bd     = span.bk {color: black; font-style: normal; font-weight: bold}
.bk     = span.bk {color: black; font-style: normal; font-weight: normal}
.rd     = span.bk {color: red; font-style: normal; font-weight: normal}
.bkit   = span.bk {color: black; font-style: italic; font-weight: normal}
.bkbd   = span.bk {color: black; font-style: normal; font-weight: bold}
.bkitbd = span.bk {color: black; font-style: italic; font-weight: bold}
.rdit   = span.bk {color: red; font-style: italic; font-weight: normal}
.rdbd   = span.bk {color: red; font-style: normal; font-weight: bold}
.rditbd = span.bk {color: red; font-style: italic; font-weight: bold}
**/
// more examples
{
  .dialog sid "prayers~enarxis02" // p prefix is optional. First . on line = p class
  // new nid keyword means "no id" and will insert text verbatim
  p.dialog sid "prayers~pet02" .rubric nid "(" sid "v~x" sid "y~z" nid ")"
}
/**
rid works on da.*, eo.*, me.*, oc.*, pe.*, sy.*, tr.*, ty.*
see the Keyring in the AGES system library
**/
when_exists rid "oc.*~ocMO.Ode43.text" use:  {
    p.verse sid "prayers~verse_Trinity.text"
    p.hymn rid "oc.*~ocMO.Ode42.text" ver // ver inserts the version name
  	p.title sid "prayers~Doxa"
  	p.hymn rid "oc.*~ocMO.Ode43.text" ver
  otherwise use:
  	p.verse sid "prayers~verse_Trinity.text"
  	p.hymn rid "oc.*~ocMO.Ode41.text" ver
  	p.title sid "prayers~Doxa"
  	p.hymn rid "oc.*~ocMO.Ode42.text" ver
}

